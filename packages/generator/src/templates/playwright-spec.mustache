{{#importWhat}}{ expect, test }{{/importWhat}}{{#importFrom}}@playwright/test{{/importFrom}};
{{#importWhat}}{ PlaywrightRunner }{{/importWhat}}{{#importFrom}}@documente/runner-playwright{{/importFrom}};{{#pathToExternals}}
{{#importWhat}}externals{{/importWhat}}{{#importFrom}}{{{pathToExternals}}}{{/importFrom}};{{/pathToExternals}}

const selectorTree = `
{{{selectorTree}}}
`;

const env = {{#env}}`
{{{.}}}`{{/env}}{{^env}}''{{/env}};

const testRunner = new PlaywrightRunner(selectorTree, {{#pathToExternals}}externals{{/pathToExternals}}{{^pathToExternals}}{}{{/pathToExternals}}, env);

{{#blocks}}
testRunner.add(`
{{{block}}}`);

{{/blocks}}

{{#specs}}
test('spec #{{specNumber}}', async ({ page }) => {
  await testRunner.run(`
{{{spec}}}
`, page, expect);
});

{{/specs}}
